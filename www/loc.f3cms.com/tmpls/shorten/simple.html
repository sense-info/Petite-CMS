<nav class="level">
  <div class="level-left">
    <nav class="breadcrumb">
      <ul>
        <li> <a class="gee" href="javascript:;" data-gene="click:loadMain" data-module="dashboard" data-layout="advanced">進階</a> </li>
        <li class="is-active"> <a>短網址</a> </li>
      </ul>
    </nav>
  </div>
  <div class="level-right">
    <p class="level-item">
      <a class="button is-primary gee" data-gene="click:loadRow" data-tmpl="shortenForm" data-id="0">新增</a>
    </p>
  </div>
</nav>
<nav class="list-filter level">
  <div class="level-left">
    <div class="level-item">
      <div class="control">
        <div class="select">
          <select class="dropdownQuery gee" data-gene="change:dropdownQuery">
            <option value="">全部狀態</option>
            <option value="m.status=Enabled">已發布</option>
            <option value="m.status=Disabled">已下架</option> 
          </select>
        </div>
      </div>
    </div>
    <div class="level-item query-box">
      <div class="field has-addons">
        <div class="control"><div class="select" >
          <select name="query" class="gee" data-gene="change:checkOption">
            <optgroup label="資料">
              <option value="m.token~">語意化網址</option>
              <option value="m.origin~">目標網址</option>
              <option value="m.hits>">點擊人數大於</option>
              <option value="m.finished>">使用人數大於</option>
            </optgroup>
          </select>
        </div></div>
        <div class="control">
          <input class="input" type="text" placeholder="Find a option">
        </div>
        <div class="control tooltip">
          <button class="button is-expanded gee" data-gene="init:initQueryForm,click:combineQuery" type="button">查詢</button>
          <span class="tooltip-text">可記錄最後一次查詢條件</span>
        </div>
      </div>
    </div>
    <p class="level-item is-hidden">搜尋條件：</p>
    <div class="tags js-query-list level-item"></div>
  </div>
</nav>
<div class="columns is-multiline">
  <div class="column">
    <div class="content box-shadow is-scrollable">
      <table class="list-body table is-striped is-hoverable">
        <thead>
          <tr>
            <th>語意化網址</th>
            <th>目標網址</th>
            <th>狀態</th>
            <th>次數</th>
            <th class="is-actions-cell">操作</th>
          </tr>
        </thead>
        <tfoot></tfoot>
        <tbody class="gee" data-gene="init:loadList,click:reactList" data-tmpl="shortenList" data-nopde="1">
          <tr>
            <td>{{:prop.token}}</td>
            <td>{{:prop.origin}}</td>
            <td>{{:~txtLabel(prop.status, {'Enabled': '已發布', 'Disabled': '已下架'})}}</td>
            <td>{{:prop.cap}} / {{:prop.hits}} / {{:prop.finished}}</td>
            <td>
              <a href="javascript:;" class="button is-info" data-func="loadRow" data-tmpl="shortenForm" data-id="{{:prop.id}}">編輯</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="list-footer level"><div class="level-left">
        <span class="total-items level-item"></span>
        <nav class="pagination level-item"><ul id="paginate"></ul></nav>
    </div></div>
  </div>
  <div class="column is-3">
    <div class="box">
      <form class="gee" data-gene="init:initForm" data-tmpl="shortenForm" id="shortenForm">

        <div class="field">
          <label class="label">語意化網址</label>
          <p class="control">
            <input class="input" name="token" type="text" placeholder="語意化可提升搜尋排名！此欄位非必填，可留空">
          </p>
        </div>

        <div class="field">
          <label class="label">目標網址</label>
          <p class="control">
            <input class="input" name="origin" type="text" placeholder="目標網址">
          </p>
        </div>
        <div class="field">
          <input type="radio" class="is-checkradio" name="status" value="Enabled" id="shorten-status-enabled">
          <label class="radio" for="shorten-status-enabled">已發布</label>
          <input type="radio" class="is-checkradio" name="status" value="Disabled" checked="checked" id="shorten-status-disabled">
          <label class="radio" for="shorten-status-disabled">已下架</label>
        </div>

        <div class="field">
          <label class="label">次數上限</label>
          <p class="control">
            <input class="input" name="cap" type="number" placeholder="次數上限">
          </p>
        </div>

        <div class="field">
          <label class="label">使用次數</label>
          <p class="control">
            <input class="input" name="hits" type="number" placeholder="使用次數">
          </p>
        </div>

        <div class="field">
          <label class="label">完成轉換次數</label>
          <p class="control">
            <input class="input" name="finished" type="number" placeholder="完成轉換次數">
          </p>
        </div>

        <div class="field">
          <label class="label">備註</label>
          <p class="control">
            <textarea class="textarea" name="note"></textarea>
          </p>
        </div>
        <div class="field is-grouped">
          <p class="control">
            <button type="button" class="button is-primary pre-gee" data-gene="click:setRow" data-reset="1">送出</button>
          </p>
          <p class="control">
            <button type="button" class="button pre-gee" data-gene="click:cancelForm">取消</button>
          </p>
        </div>
        <input type="hidden" name="id">
      </form>
    </div>
  </div>
</div>
